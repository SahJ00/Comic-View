webpackJsonp([171],{"/Djd":function(t,a,e){var s={"./78-EUC-H.bcmap":["0lHY",168],"./78-EUC-V.bcmap":["8cwC",167],"./78-H.bcmap":["Hj0Y",166],"./78-RKSJ-H.bcmap":["rDt0",165],"./78-RKSJ-V.bcmap":["69NQ",164],"./78-V.bcmap":["OfM+",163],"./78ms-RKSJ-H.bcmap":["uB/y",162],"./78ms-RKSJ-V.bcmap":["h5K9",161],"./83pv-RKSJ-H.bcmap":["9WfI",160],"./90ms-RKSJ-H.bcmap":["0WCd",159],"./90ms-RKSJ-V.bcmap":["IlPF",158],"./90msp-RKSJ-H.bcmap":["JgNn",157],"./90msp-RKSJ-V.bcmap":["vmWD",156],"./90pv-RKSJ-H.bcmap":["yxD0",155],"./90pv-RKSJ-V.bcmap":["5WXK",154],"./Add-H.bcmap":["xhCb",153],"./Add-RKSJ-H.bcmap":["6VbT",152],"./Add-RKSJ-V.bcmap":["RLMU",151],"./Add-V.bcmap":["yp9I",150],"./Adobe-CNS1-0.bcmap":["hUem",149],"./Adobe-CNS1-1.bcmap":["ino3",148],"./Adobe-CNS1-2.bcmap":["ibfO",147],"./Adobe-CNS1-3.bcmap":["GiTj",146],"./Adobe-CNS1-4.bcmap":["hsjj",145],"./Adobe-CNS1-5.bcmap":["YRpi",144],"./Adobe-CNS1-6.bcmap":["w8o3",143],"./Adobe-CNS1-UCS2.bcmap":["rX6d",142],"./Adobe-GB1-0.bcmap":["iD5p",141],"./Adobe-GB1-1.bcmap":["4jEs",140],"./Adobe-GB1-2.bcmap":["Afaj",139],"./Adobe-GB1-3.bcmap":["toY7",138],"./Adobe-GB1-4.bcmap":["faDD",137],"./Adobe-GB1-5.bcmap":["4gVq",136],"./Adobe-GB1-UCS2.bcmap":["L8gf",135],"./Adobe-Japan1-0.bcmap":["hIDG",134],"./Adobe-Japan1-1.bcmap":["iPSW",133],"./Adobe-Japan1-2.bcmap":["S/ep",132],"./Adobe-Japan1-3.bcmap":["YhiS",131],"./Adobe-Japan1-4.bcmap":["wm/L",130],"./Adobe-Japan1-5.bcmap":["Zkyi",129],"./Adobe-Japan1-6.bcmap":["aB41",128],"./Adobe-Japan1-UCS2.bcmap":["2Us0",127],"./Adobe-Korea1-0.bcmap":["Mv2w",126],"./Adobe-Korea1-1.bcmap":["s/Eq",125],"./Adobe-Korea1-2.bcmap":["3o6+",124],"./Adobe-Korea1-UCS2.bcmap":["SV2h",123],"./B5-H.bcmap":["HF7q",122],"./B5-V.bcmap":["fwp9",121],"./B5pc-H.bcmap":["rWMu",120],"./B5pc-V.bcmap":["xFEU",119],"./CNS-EUC-H.bcmap":["B0Kb",118],"./CNS-EUC-V.bcmap":["azx/",117],"./CNS1-H.bcmap":["p4ms",116],"./CNS1-V.bcmap":["9eW7",115],"./CNS2-H.bcmap":["zc6H",114],"./CNS2-V.bcmap":["dvni",113],"./ETHK-B5-H.bcmap":["EOs2",112],"./ETHK-B5-V.bcmap":["3Wsc",111],"./ETen-B5-H.bcmap":["gQjr",110],"./ETen-B5-V.bcmap":["kLXg",109],"./ETenms-B5-H.bcmap":["imo+",108],"./ETenms-B5-V.bcmap":["zm2u",107],"./EUC-H.bcmap":["Q2D6",106],"./EUC-V.bcmap":["k2qw",105],"./Ext-H.bcmap":["YgQs",104],"./Ext-RKSJ-H.bcmap":["hIym",103],"./Ext-RKSJ-V.bcmap":["N32G",102],"./Ext-V.bcmap":["M1wV",101],"./GB-EUC-H.bcmap":["HcIz",100],"./GB-EUC-V.bcmap":["UJd/",99],"./GB-H.bcmap":["IhXA",98],"./GB-V.bcmap":["hcdP",97],"./GBK-EUC-H.bcmap":["1Knm",96],"./GBK-EUC-V.bcmap":["YMus",95],"./GBK2K-H.bcmap":["nBsz",94],"./GBK2K-V.bcmap":["vkSo",93],"./GBKp-EUC-H.bcmap":["dk46",92],"./GBKp-EUC-V.bcmap":["cDOd",91],"./GBT-EUC-H.bcmap":["DdPg",90],"./GBT-EUC-V.bcmap":["hqV7",89],"./GBT-H.bcmap":["7XA5",88],"./GBT-V.bcmap":["qhQE",87],"./GBTpc-EUC-H.bcmap":["1Eun",86],"./GBTpc-EUC-V.bcmap":["849d",85],"./GBpc-EUC-H.bcmap":["A4XZ",84],"./GBpc-EUC-V.bcmap":["an5Q",83],"./H.bcmap":["jg+6",82],"./HKdla-B5-H.bcmap":["dKoA",81],"./HKdla-B5-V.bcmap":["Axzi",80],"./HKdlb-B5-H.bcmap":["Z6Fe",79],"./HKdlb-B5-V.bcmap":["Swbl",78],"./HKgccs-B5-H.bcmap":["4mx8",77],"./HKgccs-B5-V.bcmap":["TbQ6",76],"./HKm314-B5-H.bcmap":["zfm+",75],"./HKm314-B5-V.bcmap":["lr6o",74],"./HKm471-B5-H.bcmap":["EyHw",73],"./HKm471-B5-V.bcmap":["YRl9",72],"./HKscs-B5-H.bcmap":["mP3G",71],"./HKscs-B5-V.bcmap":["6sQV",70],"./Hankaku.bcmap":["Boma",69],"./Hiragana.bcmap":["Aqml",68],"./KSC-EUC-H.bcmap":["RBad",67],"./KSC-EUC-V.bcmap":["C6eU",66],"./KSC-H.bcmap":["Q2pl",65],"./KSC-Johab-H.bcmap":["330r",64],"./KSC-Johab-V.bcmap":["jriO",63],"./KSC-V.bcmap":["qRx5",62],"./KSCms-UHC-H.bcmap":["xEph",61],"./KSCms-UHC-HW-H.bcmap":["JSwJ",60],"./KSCms-UHC-HW-V.bcmap":["G/Oj",59],"./KSCms-UHC-V.bcmap":["/RsT",58],"./KSCpc-EUC-H.bcmap":["D4WR",57],"./KSCpc-EUC-V.bcmap":["OqUO",56],"./Katakana.bcmap":["clhU",55],"./NWP-H.bcmap":["xDZB",54],"./NWP-V.bcmap":["lHHt",53],"./RKSJ-H.bcmap":["1bQs",52],"./RKSJ-V.bcmap":["KD7s",51],"./Roman.bcmap":["KDYN",50],"./UniCNS-UCS2-H.bcmap":["bBFw",49],"./UniCNS-UCS2-V.bcmap":["ne9Q",48],"./UniCNS-UTF16-H.bcmap":["7mve",47],"./UniCNS-UTF16-V.bcmap":["fDmo",46],"./UniCNS-UTF32-H.bcmap":["oBG3",45],"./UniCNS-UTF32-V.bcmap":["R8UX",44],"./UniCNS-UTF8-H.bcmap":["9p4U",43],"./UniCNS-UTF8-V.bcmap":["mrGD",42],"./UniGB-UCS2-H.bcmap":["8bey",41],"./UniGB-UCS2-V.bcmap":["lngy",40],"./UniGB-UTF16-H.bcmap":["Jjcy",39],"./UniGB-UTF16-V.bcmap":["0PdA",38],"./UniGB-UTF32-H.bcmap":["nl8J",37],"./UniGB-UTF32-V.bcmap":["k/6v",36],"./UniGB-UTF8-H.bcmap":["5y08",35],"./UniGB-UTF8-V.bcmap":["Mx+T",34],"./UniJIS-UCS2-H.bcmap":["h4hU",33],"./UniJIS-UCS2-HW-H.bcmap":["Uz5R",32],"./UniJIS-UCS2-HW-V.bcmap":["LdTY",31],"./UniJIS-UCS2-V.bcmap":["cBwd",30],"./UniJIS-UTF16-H.bcmap":["+S0o",29],"./UniJIS-UTF16-V.bcmap":["VEBc",28],"./UniJIS-UTF32-H.bcmap":["m4Cs",27],"./UniJIS-UTF32-V.bcmap":["dWl0",26],"./UniJIS-UTF8-H.bcmap":["leWl",25],"./UniJIS-UTF8-V.bcmap":["ulcQ",24],"./UniJIS2004-UTF16-H.bcmap":["fZfZ",23],"./UniJIS2004-UTF16-V.bcmap":["yeFf",22],"./UniJIS2004-UTF32-H.bcmap":["StCN",21],"./UniJIS2004-UTF32-V.bcmap":["4axz",20],"./UniJIS2004-UTF8-H.bcmap":["petH",19],"./UniJIS2004-UTF8-V.bcmap":["ebP/",18],"./UniJISPro-UCS2-HW-V.bcmap":["bJiI",17],"./UniJISPro-UCS2-V.bcmap":["eCeG",16],"./UniJISPro-UTF8-V.bcmap":["gGQY",15],"./UniJISX0213-UTF32-H.bcmap":["yvQh",14],"./UniJISX0213-UTF32-V.bcmap":["/rlZ",13],"./UniJISX02132004-UTF32-H.bcmap":["0dQZ",12],"./UniJISX02132004-UTF32-V.bcmap":["+GS9",11],"./UniKS-UCS2-H.bcmap":["fGKg",10],"./UniKS-UCS2-V.bcmap":["X3cO",9],"./UniKS-UTF16-H.bcmap":["TMpY",8],"./UniKS-UTF16-V.bcmap":["hTx4",7],"./UniKS-UTF32-H.bcmap":["kbYn",6],"./UniKS-UTF32-V.bcmap":["t4S0",5],"./UniKS-UTF8-H.bcmap":["6InH",4],"./UniKS-UTF8-V.bcmap":["oEkN",3],"./V.bcmap":["xBln",2],"./WP-Symbol.bcmap":["A12k",1]};function i(t){var a=s[t];return a?e.e(a[1]).then(function(){return e(a[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}i.keys=function(){return Object.keys(s)},i.id="/Djd",t.exports=i},0:function(t,a){},1:function(t,a){},2:function(t,a){},"2PEw":function(t,a){},"2vVE":function(t,a){},3:function(t,a){},"36jA":function(t,a){},"3aif":function(t,a){},"3bV0":function(t,a){},4:function(t,a){},5:function(t,a){},6:function(t,a){},"684z":function(t,a){},7:function(t,a){},"7jZk":function(t,a,e){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-footer pt-2 pb-2"},[e("h4",[t._v("\n      Salvador Henares Jiménez\n    ")]),t._v(" "),e("h5",[t._v("\n      Sigueme en:\n    ")]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("ul",{staticClass:"inline-list"},[e("li",[e("div",{staticClass:"github"},[e("a",{attrs:{href:"https://github.com/SahJ00",target:"_blank"}},[e("i",{staticClass:"fa fa-github-square"})])])]),t._v(" "),e("li",[e("div",{staticClass:"linkedin"},[e("a",{attrs:{href:"https://www.linkedin.com/in/salvadorhenaresjimenez/",target:"_blank"}},[e("i",{staticClass:"fa fa-linkedin"})])])])])])]),t._v(" "),e("br"),t._v(" "),e("h5",[t._v("\n      Proyecto final de Desarrollo de Aplicaciones Web 2018.\n    ")])])}]};a.a=s},"9zvZ":function(t,a){},BVGj:function(t,a){},GJiM:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i=e("Sazm"),n=e.n(i).a.initializeApp({apiKey:"AIzaSyAwKGVFfZkp7JRGl6TkeeKwyFAJhKEg2ZM",authDomain:"comicview-da215.firebaseapp.com",databaseURL:"https://comicview-da215.firebaseio.com",projectId:"comicview-da215",storageBucket:"comicview-da215.appspot.com",messagingSenderId:"89036379902"}),r=n.database(),o=n.storage(),c=n.auth(),l={data:function(){return{email:"",password:"",errorMsg:""}},methods:{login:function(t){var a=this;c.signInWithEmailAndPassword(this.email,this.password).then(function(t){a.$router.replace("/home")}).catch(function(t){a.errorMsg=err.message}),t.preventDefault()}}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-imagen"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{staticClass:"bg-image img-fluid no-padding"},[e("div",{staticClass:"container bg-container animated pulse"},[e("h3",{staticClass:"text-center"},[t._v("Login")]),t._v(" "),e("br"),t._v(" "),e("form",{on:{submit:t.login}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Contraseña:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-login",attrs:{type:"submit"}},[t._v("Conectarse")])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"register"}}},[e("a",{staticClass:" new-user m-2 mr-3 ml-4"},[t._v("¿Usuario nuevo?. Resgístrate")])]),t._v(" "),e("router-link",{attrs:{to:{name:"reset-password"}}},[e("a",{staticClass:"reset-password m-2 ml-4"},[t._v("¿Olvidaste tu contraseña?")])]),t._v(" "),e("br"),t._v(" "),""!==t.errorMsg?e("span",{staticClass:"login-error-msg text-danger"},[t._v(t._s(t.errorMsg))]):t._e()],1)])])])])])},staticRenderFns:[]};var d=e("VU/8")(l,m,!1,function(t){e("v0V4")},null,null).exports,u={data:function(){return{userId:c.currentUser.uid,user:{}}},created:function(){var t=this;r.ref("users/"+c.currentUser.uid).on("value",function(a){return t.user=a.val(),console.log("soy rol de admin :"+user.role),t.user},function(t){console.log("The read failed: "+t.code)})},currentUserId:function(){return c.currentUser?(console.debug(c.currentUser.uid),c.currentUser.uid):null},methods:{logout:function(){var t=this;c.signOut().then(function(){t.$router.replace("/login-email")})}}},p={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("header",{staticClass:"container-fluid  no-padding-lr"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-color-header",attrs:{id:"menu"}},[s("router-link",{attrs:{to:{name:"home"}}},[s("img",{staticClass:"img-fluid img-logo mt-2",attrs:{src:e("iQH9")}})]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item ml-3 pl-1 pr-1 active nav-btn",attrs:{id:""}},[s("router-link",{attrs:{to:{name:"home"}}},[s("a",{staticClass:"nav-link"},[s("i",{staticClass:"fa fa-user"}),t._v("Mi perfil")])])],1),t._v(" "),s("li",{staticClass:"nav-item pl-1 pr-1 nav-btn ",attrs:{id:""}},[s("router-link",{attrs:{to:{name:"comics"}}},[s("a",{staticClass:"nav-link"},[s("i",{staticClass:"fa fa-leanpub"}),t._v("Comics")])])],1),t._v(" "),s("li",{staticClass:"nav-item pl-1 pr-1 nav-btn ",attrs:{id:""}},[s("router-link",{attrs:{to:{name:"comicsdc"}}},[s("a",{staticClass:"nav-link"},[t._v("DC Comics")])])],1),t._v(" "),s("li",{staticClass:"nav-item pl-1 pr-1 nav-btn ",attrs:{id:""}},[s("router-link",{attrs:{to:{name:"comicmarvel"}}},[s("a",{staticClass:"nav-link"},[t._v("Marvel Comics")])])],1)]),t._v(" "),s("ul",{staticClass:"navbar-nav"},["admin"===t.user.role?s("li",{staticClass:"nav-item pl-1 pr-1 nav-btn active",attrs:{id:""}},[s("router-link",{attrs:{to:{name:"newcomic"}}},[s("a",{staticClass:"nav-link"},[s("i",{staticClass:"fa fa-plus-circle"}),t._v("Añadir comic")])])],1):t._e(),t._v(" "),s("li",{staticClass:"nav-item pl-3 pr-3 nav-btn"},[s("a",{staticClass:"nav-link",on:{click:t.logout}},[s("i",{staticClass:"fa fa-unlock"}),t._v("Salir")])])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]};var v=e("VU/8")(u,p,!1,function(t){e("2vVE")},null,null).exports,f=e("TVmP"),g={components:{LoginEmail:d,Header:v,Footer:f.default}},b={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fluid no-padding-lr",attrs:{id:"app"}},[a("div",{staticClass:"header",staticStyle:{display:"none"}},[a("Header")],1),this._v(" "),a("router-view"),this._v(" "),a("div",{staticClass:"header",staticStyle:{display:"none"}},[a("Footer")],1)],1)},staticRenderFns:[]};var h=e("VU/8")(g,b,!1,function(t){e("lP9z")},null,null).exports,C=(e("1mcD"),e("/ocq")),_=(e("2ahc"),{render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-12"},[a("div",{staticClass:"bg-image img-fluid no-padding"},[a("div",{staticClass:"container bg-container"},[a("form",[this._m(0),this._v(" "),a("div",{staticClass:"form-group text-center"},[a("router-link",{attrs:{to:{name:"login-email"}}},[a("button",{staticClass:"btn btn-lg btn-email"},[a("i",{staticClass:"fa fa-envelope-square"}),this._v("\n                 Conectate con Email\n              ")])])],1)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-group text-center"},[a("button",{staticClass:"btn btn-lg btn-google"},[a("i",{staticClass:"fa fa-google"}),this._v("\n              Conectate con Google\n              ")])])}]});e("VU/8")({data:function(){return{}},methods:{}},_,!1,function(t){e("36jA")},null,null).exports;var U={data:function(){return{email:"",password:"",successMsg:"",errorMsg:"",authUser:null}},methods:{createUser:function(t){var a=this;c.createUserWithEmailAndPassword(this.email,this.password).then(function(t){var e=c.currentUser.uid;r.ref("users/"+e).set({id:c.currentUser.uid,email:a.email,role:"user",userName:"",imgProfile:""}),a.successMsg="New user created successfully!",a.errorMsg="",setTimeout(function(){this.$router.replace("/login-email")}.bind(a))}).catch(function(t){a.errorMsg=t.message}),t.preventDefault()},created:function(){var t=this;firebase.auth().onAuthStateChanged(function(a){t.authUser=a})}}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-imagen"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{staticClass:"bg-image img-fluid no-padding"},[e("div",{staticClass:"container bg-container animated pulse"},[e("h3",{staticClass:"text-center"},[t._v("Registro")]),t._v(" "),e("br"),t._v(" "),e("form",{on:{submit:t.createUser}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Contraseña:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-login",attrs:{type:"submit"}},[t._v("Regístrate")])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"login-email"}}},[e("a",{staticClass:" new-user m-2 mr-3 ml-4"},[t._v("Volver")])]),t._v(" "),e("br"),t._v(" "),""!==t.errorMsg?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errorMsg))]):t._e(),t._v(" "),""!==t.successMsg?e("span",{staticClass:"text-success"},[t._v(t._s(t.successMsg))]):t._e()],1)])])])])])},staticRenderFns:[]};var y=e("VU/8")(U,w,!1,function(t){e("iLOY")},null,null).exports,S={data:function(){return{email:"",password:"",errorMsg:"",successMsg:""}},methods:{reset:function(t){var a=this;t.preventDefault(),c.sendPasswordResetEmail(this.email).then(function(t){a.successMsg="Reset password request sended!",a.errorMsg="",setTimeout(function(){this.$router.replace("/login-email")}.bind(a))}).catch(function(t){a.successMsg="",a.errorMsg=err.message})}}},x={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-imagen"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{staticClass:"bg-image img-fluid no-padding"},[e("div",{staticClass:"container bg-container animated pulse"},[e("h3",{staticClass:"text-center"},[t._v("Recuperar contraseña")]),t._v(" "),e("br"),t._v(" "),e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-login",attrs:{type:"button"},on:{click:t.reset}},[t._v("Enviar")])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"login-email"}}},[e("a",{staticClass:" new-user m-2 mr-3 ml-4"},[t._v("Volver")])]),t._v(" "),e("br"),t._v(" "),""!==t.errorMsg?e("span",{staticClass:" text-danger"},[t._v(t._s(t.errorMsg))]):t._e(),t._v(" "),""!==t.successMsg?e("span",{staticClass:" text-success"},[t._v(t._s(t.successMsg))]):t._e()],1)])])])])])},staticRenderFns:[]};var V=e("VU/8")(S,x,!1,function(t){e("3bV0")},null,null).exports,H={data:function(){return{comics:[]}},created:function(){this.getComics()},methods:{getComics:function(){var t=this;try{var a=this.$graphql.request("\n              {\n              comics {\n                _id\n              frontpage\n                name\n                year\n                number\n                description\n                autor\n                company\n                slug\n                viewComic\n              }\n            }\n        ").then(function(a){console.log(a),t.comics=a.comics});this.comics=a.mycomics}catch(t){console.log(t)}}}},P={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},t._l(t.comics,function(a){return e("div",{staticClass:"card-group pt-2 pb-2 col-sm-3 col-md-3"},[e("div",{staticClass:"card  m-2"},[e("img",{staticClass:"img fluid card-img-top",attrs:{src:a.frontpage,alt:"portadas de comic"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v("\r\n\t\t\t\t\t\t\t\t"+t._s(a.name)+"\r\n\t\t\t\t\t\t\t  ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(a.number)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Año:")]),t._v(" "+t._s(a.year)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Autor:")]),t._v(" "+t._s(a.autor)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Compañia:")]),t._v(" "+t._s(a.company)+" ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"comic-details",params:{id:a._id}}}},[e("a",{staticClass:"btn"},[t._v("Ver más")])])],1)])])}))])])])},staticRenderFns:[]};var F=e("VU/8")(H,P,!1,function(t){e("684z")},null,null).exports,T=e("c/Tr"),k=e.n(T),E={data:function(){return{progressUpload:0,file:File,uploadTask:"",downloadURL:"",currentFile:null,urlPortada:this.urlPortada,urlPDF:this.urlPDF,newComic:{photo:"",pdf:""},errorMsg:"",successMsg:"",comic:[],frontpage:"",name:"",year:"",number:"",description:"",autor:"",company:"",tag:"",slug:"",viewComic:""}},methods:{detectFilesIMG:function(t){var a=this;k()(Array(t.length).keys()).map(function(e){a.uploadImg(t[e])})},detectFilesPDF:function(t){var a=this;k()(Array(t.length).keys()).map(function(e){a.uploadPDF(t[e])})},uploadImg:function(t){var a=this,e=Math.floor(100*Math.random()+1)+"_"+this.file.name;return this.uploadTask=o.ref("comics/portada"+e).put(t),this.uploadTask.then(function(t){a.$emit("url",a.downloadURL),a.newComic.photo=a.uploadTask.snapshot.downloadURL,a.urlPortada=a.newComic.photo;o.ref("comics/fotos/"+e);r.ref("comics").push(a.newComic).then(function(){a.sending=!1,a.imageData="",a.progressUpload=0,a.newComic={photo:""}})}),this.urlPortada},uploadPDF:function(t){var a=this,e=Math.floor(100*Math.random()+1)+"_"+this.file.name;return this.uploadTask=o.ref("comics/pdf/"+e).put(t),this.uploadTask.then(function(t){a.$emit("url",a.downloadURL),a.newComic.pdf=a.uploadTask.snapshot.downloadURL,a.urlPDF=a.newComic.pdf;o.ref("comics/pdf"+e);r.ref("comics").push(a.newComic).then(function(){a.sending=!1,a.imageData="",a.progressUpload=0,a.newComic={pdf:""}})}),this.urlPDF},addPhotoComic:function(t){var a=this;t.preventDefault();try{var e='\n          mutation {\n            addComic (\n              frontpage: "'+this.urlPortada+'",\n              name: "'+this.name+'",\n              year: "'+this.year+'",\n              number: "'+this.number+'",\n              description: "'+this.description+'",\n              autor: "'+this.autor+'",\n              company: "'+this.company+'",\n              tag: "'+this.tag+'",\n              slug: "'+this.name+"-"+this.number+"-"+this.year+'",\n              viewComic: "'+this.urlPDF+'"\n            ) {\n              _id\n              frontpage\n              name\n              year\n              number\n              description\n              autor\n              company\n              tag\n              slug\n              viewComic\n            }\n          }\n        ';this.$graphql.request(e).then(function(t){a.comic=t.comics,a.successMsg="El comic se añadio a la base de datos"});setTimeout(function(){this.$router.replace("comics")}.bind(this),2e3)}catch(t){this.errorMsg=t.message}}},watch:{uploadTask:function(){var t=this;this.uploadTask.on("state_changed",function(a){t.progressUpload=Math.floor(a.bytesTransferred/a.totalBytes*100)})}}},B={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{staticClass:"bg-image img-fluid no-padding"},[e("div",{},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-ms-12 col-md-5 m-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Nombre del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"Nombre del comic",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"year"}},[t._v("Año del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control",attrs:{type:"text",name:"year",id:"year",placeholder:"Año del comic",required:"",autofocus:""},domProps:{value:t.year},on:{input:function(a){a.target.composing||(t.year=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"number"}},[t._v("Número del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"text",name:"number",id:"number",placeholder:"Número del comic",required:"",autofocus:""},domProps:{value:t.number},on:{input:function(a){a.target.composing||(t.number=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"autor"}},[t._v("autor del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.autor,expression:"autor"}],staticClass:"form-control",attrs:{type:"text",name:"autor",id:"autor",placeholder:"autor del comic",required:"",autofocus:""},domProps:{value:t.autor},on:{input:function(a){a.target.composing||(t.autor=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"company"}},[t._v("Compañia:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],staticClass:"form-control",attrs:{type:"text",name:"company",id:"company",placeholder:"Compañia",required:"",autofocus:""},domProps:{value:t.company},on:{input:function(a){a.target.composing||(t.company=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-5 m-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"tag"}},[t._v("Protagonista del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"form-control",attrs:{type:"text",name:"tag",id:"tag",placeholder:"ejem Batman...",required:"",autofocus:""},domProps:{value:t.tag},on:{input:function(a){a.target.composing||(t.tag=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("descipción del comic:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{rows:"5",cols:"30",id:"descripcion",placeholder:"...",required:""},domProps:{value:t.description},on:{input:function(a){a.target.composing||(t.description=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"frontpage"}},[t._v("Portada:")]),t._v(" "),e("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){t.detectFilesIMG(a.target.files)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"viewComic"}},[t._v("Comic:")]),t._v(" "),e("input",{attrs:{type:"file",accept:"pdf/*"},on:{change:function(a){t.detectFilesPDF(a.target.files)}}}),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("div",{staticClass:"progress-bar",style:{width:t.progressUpload+"%"}},[t._v(t._s(t.progressUpload)+"%")])]),t._v(" "),e("button",{staticClass:"btn btn-login",attrs:{type:"submit"},on:{click:t.addPhotoComic}},[t._v("Enviar")])])])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("br"),t._v(" "),""!==t.successMsg?e("span",{staticClass:"text-success"},[t._v(t._s(t.successMsg))]):t._e(),t._v(" "),""!==t.errorMsg?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errorMsg))]):t._e()])])])])])},staticRenderFns:[]};var M=e("VU/8")(E,B,!1,function(t){e("RM10")},null,null).exports,N={data:function(){return{userId:c.currentUser.uid,user:{}}},created:function(){var t=this;r.ref("users/"+c.currentUser.uid).on("value",function(a){return t.user=a.val(),t.user},function(t){})},currentUserId:function(){return c.currentUser?c.currentUser.uid:null}},R={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container pt-2 pb-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[""!==t.user.imgProfile?e("img",{staticClass:"rounded-circle img-fluid img-profile m-2",attrs:{src:t.user.imgProfile,alt:"Imagen de perfil del usuario"}}):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[""===t.user.userName?e("h3",{staticClass:"m-2"},[t._v("\n\t\t\t\t\t\t Bienvenid@ "+t._s(t.user.email)+".\n\t\t\t\t\t")]):e("h3",{staticClass:"m-2"},[t._v("\n\t\t\t\t\t\tBienvenid@ "+t._s(t.user.userName)+".\n\t\t\t\t\t")]),t._v(" "),e("router-link",{attrs:{to:{name:"user-profile",params:{id:t.userId}}}},[e("button",{staticClass:"btn btn-outline-primary mb-2 mt-2",attrs:{type:"button"}},[t._v("\n\t\t\t\t\t\tModificar Perfil\n\t\t\t\t\t")])])],1)])])])])},staticRenderFns:[]};var K=e("VU/8")(N,R,!1,function(t){e("jbNv")},null,null).exports,A=e("iwQb");if("server"===Object({NODE_ENV:"production"}).VUE_ENV)var J=Object(A.a)({});else{var $=e("ytml").default,I=e("N1Pc");J=Object(A.a)($(I))}var q=J;var G=e("VU/8")(q,null,!1,function(t){e("kcRF")},null,null).exports,D={data:function(){return{comics:[],currentPage:0,pageCount:0}},created:function(){var t=this;r.ref("users/"+c.currentUser.uid+"/favorites").on("value",function(a){var e=a.val();for(var s in e)try{t.$graphql.request('\n             {\n  comic (_id:"'+s+'") {\n          _id\n    frontpage\n      name\n      year\n      number\n      description\n      autor\n      company\n      tag\n      slug\n      viewComic\n  }\n}\n        ').then(function(a){t.comics.push(a.comic)})}catch(t){console.log(t)}},function(t){console.log("The read failed: "+t.code)})}},z={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-containe"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h3",[t._v("Comics Favoritos")]),t._v(" "),e("div",{staticClass:"row"},t._l(t.comics,function(a){return e("div",{staticClass:"card-group pt-2 pb-2 col-sm-3 col-md-3"},[e("div",{staticClass:"card  m-2"},[e("img",{staticClass:"img fluid card-img-top",attrs:{src:a.frontpage,alt:"portadas de comic"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v("\r\n\t\t\t\t\t\t\t\t"+t._s(a.name)+"\r\n\t\t\t\t\t\t\t  ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(a.number)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Compañia:")]),t._v(" "+t._s(a.company)+" ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"comic-details",params:{id:a._id}}}},[e("a",{staticClass:"btn"},[t._v("Ver más")])])],1)])])}))])])])},staticRenderFns:[]};var j=e("VU/8")(D,z,!1,function(t){e("GJiM")},null,null).exports,L={data:function(){return{comics:[],currentPage:0,pageCount:0}},created:function(){var t=this;r.ref("users/"+c.currentUser.uid+"/read").on("value",function(a){var e=a.val();for(var s in e)try{t.$graphql.request('\n             {\n  comic (_id:"'+s+'") {\n          _id\n    frontpage\n      name\n      year\n      number\n      description\n      autor\n      company\n      tag\n      slug\n      viewComic\n  }\n}\n        ').then(function(a){t.comics.push(a.comic)})}catch(t){console.log(t)}},function(t){console.log("The read failed: "+t.code)})}},W={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-containe"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h3",[t._v("Comics leidos")]),t._v(" "),e("div",{staticClass:"row"},t._l(t.comics,function(a){return e("div",{staticClass:"card-group pt-2 pb-2 col-sm-3 col-md-3"},[e("div",{staticClass:"card  m-2"},[e("img",{staticClass:"img fluid card-img-top",attrs:{src:a.frontpage,alt:"portadas de comic"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v("\r\n\t\t\t\t\t\t\t\t"+t._s(a.name)+"\r\n\t\t\t\t\t\t\t  ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(a.number)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Compañia:")]),t._v(" "+t._s(a.company)+" ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"comic-details",params:{id:a._id}}}},[e("a",{staticClass:"btn"},[t._v("Ver más")])])],1)])])}))])])])},staticRenderFns:[]};var O=e("VU/8")(L,W,!1,function(t){e("3aif")},null,null).exports,Q={data:function(){return{comics:[],currentPage:0,pageCount:0}},created:function(){var t=this;r.ref("users/"+c.currentUser.uid+"/pendingReading").on("value",function(a){var e=a.val();for(var s in e)try{t.$graphql.request('\n             {\n  comic (_id:"'+s+'") {\n          _id\n    frontpage\n      name\n      year\n      number\n      description\n      autor\n      company\n      tag\n      slug\n      viewComic\n  }\n}\n        ').then(function(a){t.comics.push(a.comic)})}catch(t){console.log(t)}},function(t){console.log("The read failed: "+t.code)})}},Y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-containe"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h3",[t._v("Comics Pendientes de leer")]),t._v(" "),e("div",{staticClass:"row"},t._l(t.comics,function(a){return e("div",{staticClass:"card-group pt-2 pb-2 col-sm-3 col-md-3"},[e("div",{staticClass:"card  m-2"},[e("img",{staticClass:"img fluid card-img-top",attrs:{src:a.frontpage,alt:"portadas de comic"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v("\r\n\t\t\t\t\t\t\t\t"+t._s(a.name)+"\r\n\t\t\t\t\t\t\t  ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(a.number)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Compañia:")]),t._v(" "+t._s(a.company)+" ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"comic-details",params:{id:a._id}}}},[e("a",{staticClass:"btn"},[t._v("Ver más")])])],1)])])}))])])])},staticRenderFns:[]};var Z=e("VU/8")(Q,Y,!1,function(t){e("PYbE")},null,null).exports,X={components:{Header:v,Footer:f.default,UserHome:K,ComicFavorit:j,ComicRead:O,PendingReading:Z}},tt={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("UserHome"),this._v(" "),a("ComicFavorit"),this._v(" "),a("ComicRead"),this._v(" "),a("PendingReading")],1)},staticRenderFns:[]};var at=e("VU/8")(X,tt,!1,function(t){e("W9gm")},null,null).exports,et={data:function(){return{comics:[],currentPage:0,pageCount:0,userId:c.currentUser.uid,user:{}}},created:function(){var t=this;this.getComics(),r.ref("users/"+c.currentUser.uid).on("value",function(a){return t.user=a.val(),t.user},function(t){})},methods:{deleteComic:function(t){var a=this;confirm("¿Seguro que quieres eliminar este comic?");if(!0)try{this.$graphql.request('\n             mutation  {\n    deleteComic (_id:"'+this.id+'") {\n          _id\n    frontpage\n      name\n      year\n      number\n      description\n      autor\n      company\n      tag\n      slug\n      viewComic\n  }\n}\n        ').then(function(t){a.comics=t.comic})}catch(t){}setTimeout(function(){this.$router.replace("/comics")}.bind(this),2e3)},favorites:function(t){r.ref("users/"+c.currentUser.uid+"/favorites").child(this.comics._id).set(!0)},read:function(t){r.ref("users/"+c.currentUser.uid+"/read").child(this.id).set(!0)},pendingReading:function(t){r.ref("users/"+c.currentUser.uid+"/pendingReading").child(this.id).set(!0)},getComics:function(){var t=this;try{this.$graphql.request('\n             {\n    comic (_id:"'+this.id+'") {\n          _id\n    frontpage\n      name\n      year\n      number\n      description\n      autor\n      company\n      tag\n      slug\n      viewComic\n  }\n}\n        ').then(function(a){t.comics=a.comic,console.log("soy url de comic  "+comics.viewComic)})}catch(t){}}},props:["id"],components:{pdf:G}},st={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mt-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 mb-2"},[e("img",{staticClass:"img fluid m-2",attrs:{src:t.comics.frontpage,alt:"portadas de comic"}})]),t._v(" "),e("div",{staticClass:"col-md-6 mb-2"},[e("h3",[t._v(t._s(t.comics.name))]),t._v(" "),e("h5",[e("p",{staticClass:"m-2"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(t.comics.number)+" ")]),t._v(" "),e("p",{staticClass:"m-2"},[e("span",[t._v("Año:")]),t._v(" "+t._s(t.comics.year)+" ")]),t._v(" "),e("p",{staticClass:"m-2"},[e("span",[t._v("Autor:")]),t._v(" "+t._s(t.comics.autor)+" ")]),t._v(" "),e("p",{staticClass:"m-2"},[e("span",[t._v("Compañía:")]),t._v(" "+t._s(t.comics.company)+" ")]),t._v(" "),t._m(0)]),t._v("\r\n            "+t._s(t.comics.description)+"\r\n            "),e("br"),t._v(" "),e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-favorites",attrs:{type:"button"},on:{click:t.favorites}},[e("i",{staticClass:"fa fa-star"}),t._v("Favoritos\r\n\t\t\t\t")]),t._v(" "),e("button",{staticClass:"btn btn-outline-read",attrs:{type:"button"},on:{click:t.read}},[e("i",{staticClass:"fa fa-bookmark"}),t._v("Leidos\r\n\t\t\t\t")]),t._v(" "),e("button",{staticClass:"btn btn-outline-readPending",attrs:{type:"button"},on:{click:t.pendingReading}},[e("i",{staticClass:"fa fa-book"}),t._v("Pendientes \r\n\t\t\t\t")])]),t._v(" "),"admin"===t.user.role?e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-delete",attrs:{type:"button"},on:{click:t.deleteComic}},[e("i",{staticClass:"fa fa-trash"}),t._v("Eliminar Comic\r\n\t\t\t\t")])]):t._e()])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("button",{staticClass:"btn btn-outline-primary mb-2 mt-3",attrs:{type:"button"}},[e("i",{staticClass:"fa fa-eye"}),e("a",{attrs:{href:t.comics.viewComic,target:"_blank"}},[t._v("Leer comic")])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"m-2"},[a("span",[this._v("Descripción:")])])}]};var it=e("VU/8")(et,st,!1,function(t){e("vRgz")},null,null).exports,nt={data:function(){return{progressUpload:0,file:File,uploadTask:"",downloadURL:"",currentFile:null,urlProfile:this.urlProfile,name:"",errorMsg:"",successMsg:""}},currentUserId:function(){return c.currentUser?c.currentUser.uid:null},methods:{detectFilesIMG:function(t){var a=this;k()(Array(t.length).keys()).map(function(e){a.uploadImg(t[e])})},uploadImg:function(t){var a=this,e=Math.floor(100*Math.random()+1)+"_"+this.file.name;return this.uploadTask=o.ref("users/profile"+e).put(t),this.uploadTask.then(function(t){a.$emit("url",a.downloadURL),a.newProfile=a.uploadTask.snapshot.downloadURL,a.urlProfile=a.newProfile;o.ref("users/"+c.currentUser.uid+"/profile/"+e);r.ref("users/"+c.currentUser.uid).update({imgProfile:a.newProfile})}),this.urlProfile},profileChange:function(t){t.preventDefault(),r.ref("users/"+c.currentUser.uid).update({userName:this.name}),setTimeout(function(){this.$router.replace("/home")}.bind(this),2e3)}},watch:{uploadTask:function(){var t=this;this.uploadTask.on("state_changed",function(a){t.progressUpload=Math.floor(a.bytesTransferred/a.totalBytes*100)})}},props:["id"]},rt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{staticClass:"bg-image img-fluid no-padding"},[e("div",{},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-ms-12 col-md-5 m-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Nombre:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"Nombre del comic",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-5 m-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"frontpage"}},[t._v("Imagen de perfil")]),t._v(" "),e("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){t.detectFilesIMG(a.target.files)}}})]),t._v(" "),e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"submit"},on:{click:t.profileChange}},[t._v("Guardar cambios")]),t._v(" "),e("router-link",{attrs:{to:{name:"home"}}},[e("button",{staticClass:"btn btn-outline-primary"},[t._v("Volver")])])],1)])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("br"),t._v(" "),""!==t.successMsg?e("span",{staticClass:"text-success"},[t._v(t._s(t.successMsg))]):t._e(),t._v(" "),""!==t.errorMsg?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errorMsg))]):t._e()])])])])])},staticRenderFns:[]};var ot=e("VU/8")(nt,rt,!1,function(t){e("kItJ")},null,null).exports,ct={data:function(){return{comics:[]}},created:function(){this.getComics()},methods:{getComics:function(){var t=this;try{this.$graphql.request('\n             {\n              filter(company: "DC Comics"){\n              _id\n              frontpage\n              name\n              year\n              number\n              description\n              autor\n              company\n              tag\n              slug\n              viewComic\n            }\n          }\n        ').then(function(a){console.log(a),t.comics=a.filter})}catch(t){console.log(t)}}}},lt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},t._l(t.comics,function(a){return e("div",{staticClass:"card-group pt-2 pb-2 col-sm-3 col-md-3"},[e("div",{staticClass:"card  m-2"},[e("img",{staticClass:"img fluid card-img-top",attrs:{src:a.frontpage,alt:"portadas de comic"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v("\r\n\t\t\t\t\t\t\t\t"+t._s(a.name)+"\r\n\t\t\t\t\t\t\t  ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(a.number)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Año:")]),t._v(" "+t._s(a.year)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Autor:")]),t._v(" "+t._s(a.autor)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Compañia:")]),t._v(" "+t._s(a.company)+" ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"comic-details",params:{id:a._id}}}},[e("a",{staticClass:"btn"},[t._v("Ver más")])])],1)])])}))])])])},staticRenderFns:[]};var mt=e("VU/8")(ct,lt,!1,function(t){e("kLB+")},null,null).exports,dt={data:function(){return{comics:[]}},created:function(){this.getComics()},methods:{getComics:function(){var t=this;try{this.$graphql.request('\n             {\n              filter(company: "Marvel"){\n              _id\n              frontpage\n              name\n              year\n              number\n              description\n              autor\n              company\n              tag\n              slug\n              viewComic\n            }\n          }\n        ').then(function(a){t.comics=a.filter})}catch(t){console.log(t)}}}},ut={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-main-container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row"},t._l(t.comics,function(a){return e("div",{staticClass:"card-group pt-2 pb-2 col-sm-3 col-md-3"},[e("div",{staticClass:"card  m-2"},[e("img",{staticClass:"img fluid card-img-top",attrs:{src:a.frontpage,alt:"portadas de comic"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title text-center"},[t._v("\r\n\t\t\t\t\t\t\t\t"+t._s(a.name)+"\r\n\t\t\t\t\t\t\t  ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Numero:")]),t._v(" #"+t._s(a.number)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Año:")]),t._v(" "+t._s(a.year)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Autor:")]),t._v(" "+t._s(a.autor)+" ")]),t._v(" "),e("p",{staticClass:"card-text"},[e("span",[t._v("Compañia:")]),t._v(" "+t._s(a.company)+" ")]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("router-link",{attrs:{to:{name:"comic-details",params:{id:a._id}}}},[e("a",{staticClass:"btn"},[t._v("Ver más")])])],1)])])}))])])])},staticRenderFns:[]};var pt=e("VU/8")(dt,ut,!1,function(t){e("BVGj")},null,null).exports,vt={data:function(){return{progressUpload:0,file:File,uploadTask:"",downloadURL:"",currentFile:null,urlPortada:this.urlPortada,urlPDF:this.urlPDF,newComic:{photo:"",pdf:""},errorMsg:"",successMsg:"",comic:[],frontpage:"",name:"",year:"",number:"",description:"",autor:"",company:"",tag:"",slug:"",viewComic:""}},methods:{detectFilesIMG:function(t){var a=this;k()(Array(t.length).keys()).map(function(e){a.uploadImg(t[e]),console.log(t[e])})},detectFilesPDF:function(t){var a=this;k()(Array(t.length).keys()).map(function(e){a.uploadPDF(t[e]),console.log(t[e])})},uploadImg:function(t){var a=this,e=Math.floor(100*Math.random()+1)+"_"+this.file.name;return this.uploadTask=o.ref("comics/portada"+e).put(t),this.uploadTask.then(function(t){a.$emit("url",a.downloadURL),a.newComic.photo=a.uploadTask.snapshot.downloadURL,a.urlPortada=a.newComic.photo,console.log("soy url foto  "+a.newComic.photo);o.ref("comics/fotos/"+e);r.ref("comics").push(a.newComic).then(function(){a.sending=!1,a.imageData="",a.progressUpload=0,a.newComic={photo:""}})}),this.urlPortada},uploadPDF:function(t){var a=this,e=Math.floor(100*Math.random()+1)+"_"+this.file.name;return this.uploadTask=o.ref("comics/pdf/"+e).put(t),this.uploadTask.then(function(t){a.$emit("url",a.downloadURL),a.newComic.pdf=a.uploadTask.snapshot.downloadURL,a.urlPDF=a.newComic.pdf,console.log("soy url pdf  "+a.newComic.pdf);o.ref("comics/pdf"+e);r.ref("comics").push(a.newComic).then(function(){a.sending=!1,a.imageData="",a.progressUpload=0,a.newComic={pdf:""}})}),this.urlPDF},addPhotoComic:function(t){var a=this;t.preventDefault();try{var e='\n          mutation {\n            updateComic (\n              _id:"'+this.id+'",\n              frontpage: "'+this.urlPortada+'",\n              name: "'+this.name+'",\n              year: "'+this.year+'",\n              number: "'+this.number+'",\n              description: "'+this.description+'",\n              autor: "'+this.autor+'",\n              company: "'+this.company+'",\n              tag: "'+this.tag+'",\n              slug: "'+this.name+"-"+this.number+"-"+this.year+'",\n              viewComic: "'+this.urlPDF+'"\n            ) {\n              _id\n              frontpage\n              name\n              year\n              number\n              description\n              autor\n              company\n              tag\n              slug\n              viewComic\n            }\n          }\n        ';this.$graphql.request(e).then(function(t){a.comic=t.comics,console.log(t),a.successMsg="El comic se añadio a la base de datos"});setTimeout(function(){this.$router.replace("comics")}.bind(this),2e3)}catch(t){console.log(t),this.errorMsg=t.message}}},watch:{uploadTask:function(){var t=this;this.uploadTask.on("state_changed",function(a){t.progressUpload=Math.floor(a.bytesTransferred/a.totalBytes*100)})}},props:["id"]},ft={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container bg-containe"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12"},[e("div",{staticClass:"bg-image img-fluid no-padding"},[e("div",{},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-ms-12 col-md-5 m-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Nombre del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"Nombre del comic",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"year"}},[t._v("Año del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control",attrs:{type:"text",name:"year",id:"year",placeholder:"Año del comic",required:"",autofocus:""},domProps:{value:t.year},on:{input:function(a){a.target.composing||(t.year=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"number"}},[t._v("Número del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",attrs:{type:"text",name:"number",id:"number",placeholder:"Número del comic",required:"",autofocus:""},domProps:{value:t.number},on:{input:function(a){a.target.composing||(t.number=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"autor"}},[t._v("autor del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.autor,expression:"autor"}],staticClass:"form-control",attrs:{type:"text",name:"autor",id:"autor",placeholder:"autor del comic",required:"",autofocus:""},domProps:{value:t.autor},on:{input:function(a){a.target.composing||(t.autor=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"company"}},[t._v("Compañia:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],staticClass:"form-control",attrs:{type:"text",name:"company",id:"company",placeholder:"Compañia",required:"",autofocus:""},domProps:{value:t.company},on:{input:function(a){a.target.composing||(t.company=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-5 m-2"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"tag"}},[t._v("Protagonista del comic:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"form-control",attrs:{type:"text",name:"tag",id:"tag",placeholder:"ejem Batman...",required:"",autofocus:""},domProps:{value:t.tag},on:{input:function(a){a.target.composing||(t.tag=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("descipción del comic:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{rows:"5",cols:"30",id:"descripcion",placeholder:"...",required:""},domProps:{value:t.description},on:{input:function(a){a.target.composing||(t.description=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"frontpage"}},[t._v("Portada:")]),t._v(" "),e("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(a){t.detectFilesIMG(a.target.files)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"viewComic"}},[t._v("Comic:")]),t._v(" "),e("input",{attrs:{type:"file",accept:"pdf/*"},on:{change:function(a){t.detectFilesPDF(a.target.files)}}}),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("div",{staticClass:"progress-bar",style:{width:t.progressUpload+"%"}},[t._v(t._s(t.progressUpload)+"%")])]),t._v(" "),e("button",{staticClass:"btn btn-login",attrs:{type:"submit"},on:{click:t.addPhotoComic}},[t._v("Enviar")])])])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("br"),t._v(" "),""!==t.successMsg?e("span",{staticClass:"text-success"},[t._v(t._s(t.successMsg))]):t._e(),t._v(" "),""!==t.errorMsg?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errorMsg))]):t._e()])])])])])},staticRenderFns:[]};var gt=e("VU/8")(vt,ft,!1,function(t){e("O9IL")},null,null).exports;s.a.use(C.a);var bt=new C.a({mode:"history",routes:[{path:"/",name:"login-email",component:d},{path:"/home",name:"home",component:at},{path:"/login-register",name:"register",component:y},{path:"/login-reset-password",name:"reset-password",component:V},{path:"/comics",name:"comics",component:F},{path:"/comics-dc-comic",name:"comicsdc",component:mt},{path:"/comics-marvel",name:"comicmarvel",component:pt},{path:"/comic-details/:id",name:"comic-details",component:it,props:!0},{path:"/modificar-comic/:id",name:"modificarcomic",component:gt,props:!0},{path:"/new-comic",name:"newcomic",component:M},{path:"/user-home",name:"user-home",component:K},{path:"/user-profile/:id",name:"user-profile",component:ot,props:!0},{path:"*",redirect:"/"}]}),ht=e("4rMC");s.a.use(ht.a);var Ct=new ht.a.Client("https://api-comicview.herokuapp.com/graphql");bt.beforeEach(function(t,a,e){var s=c.currentUser,i=t.matched.some(function(t){return"login"===t.name});t.matched.some(function(t){return t.meta.requiresAuth})&&!s?e("login"):s&&i?e("admin"):e()}),s.a.config.productionTip=!1;c.onAuthStateChanged(function(t){new s.a({el:"#app",router:bt,graphql:Ct,components:{App:h},template:"<App/>"})})},O9IL:function(t,a){},POKh:function(t,a,e){"use strict";var s={props:{initial:{type:Boolean,default:!1}},data:function(){return{size:{width:-1,height:-1}}},methods:{reset:function(){var t=this.$el.firstChild,a=this.$el.lastChild;t.scrollLeft=1e5,t.scrollTop=1e5,a.scrollLeft=1e5,a.scrollTop=1e5},update:function(){this.size.width=this.$el.offsetWidth,this.size.height=this.$el.offsetHeight}},watch:{size:{deep:!0,handler:function(t){this.reset(),this.$emit("resize",{width:this.size.width,height:this.size.height})}}},render:function(t){var a="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",e="position: absolute; left: 0; top: 0;";return t("div",{style:a+"animation-name: resizeSensorVisibility;",on:{"~animationstart":this.update}},[t("div",{style:a,on:{scroll:this.update}},[t("div",{style:e+"width: 100000px; height: 100000px;"})]),t("div",{style:a,on:{scroll:this.update}},[t("div",{style:e+"width: 200%; height: 200%;"})])])},beforeDestroy:function(){this.$emit("resize",{width:0,height:0}),this.$emit("resizeSensorBeforeDestroy")},mounted:function(){if(!0===this.initial&&this.$nextTick(this.update),this.$el.offsetParent!==this.$el.parentNode&&(this.$el.parentNode.style.position="relative"),"attachEvent"in this.$el&&!("AnimationEvent"in window)){var t=function(){this.update(),a()}.bind(this),a=function(){this.$el.detachEvent("onresize",t),this.$off("resizeSensorBeforeDestroy",a)}.bind(this);this.$el.attachEvent("onresize",t),this.$on("resizeSensorBeforeDestroy",a),this.reset()}}};var i=e("VU/8")(s,null,!1,function(t){e("9zvZ")},null,null);a.a=i.exports},PYbE:function(t,a){},RM10:function(t,a){},TVmP:function(t,a,e){"use strict";var s=e("UthT"),i=e.n(s),n=e("7jZk");var r=function(t){e("2PEw")},o=e("VU/8")(i.a,n.a,!1,r,null,null);a.default=o.exports},UthT:function(t,a){},W9gm:function(t,a){},iLOY:function(t,a){},iQH9:function(t,a,e){t.exports=e.p+"static/img/logo.ee84713.png"},jbNv:function(t,a){},kItJ:function(t,a){},"kLB+":function(t,a){},kcRF:function(t,a){},lP9z:function(t,a){},v0V4:function(t,a){},vRgz:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.a063fb939766ba8ba369.js.map